<section class="width_container">
    <div class="greeting_msg">
        {{> database_welcome_msg}}
        <p>Add New Products Below</p>
    </div>
</section>
<section class="width_container">
    <!--<div class="create_success_msg">
        <p>Product added successfully! Add another or return to the dashboard</p>
    </div>-->
    <form action="/employee/edit-stock/add-products" method="POST" class="form_class">
        <div id="new_product_list">
            <div class="new_product">
                <h2>Product 1</h2>

                <div class="form_input_container">
                    <label for="product_name[0]">Product Name</label>
                    <input type="text" name="product_name[]" id="product_name[0]" value="{{created_product.title}}">
                </div>
    
                <div class="form_input_container">
                    <label for="product_category[0]">Product Category</label>
                    <select name="product_category[]" id="product_category[0]">

                        {{#each categories}}
                            <option value="{{this.title}}">{{this.title}}</option>
                        {{else}}
                            <option value="none">No Categories Found</option>
                        {{/each}}

                    </select>
                    <!--<input type="text" name="product_category[]" id="product_category[0]" value="{{created_product.category.title}}">-->
                </div>
                
                <div class="form_input_container">
                    <label for="product_quantity[0]">Product Quantity (Currently In Stock)</label>
                    <input type="number" min="1" name="product_quantity[]" id="product_quantity[0]" value="{{created_product.current_quantity}}">
                </div>

                <div class="form_input_container">
                    <label for="product_min_quantity[0]">Product Quantity (Min Threshold)</label>
                    <input type="number" min="1" name="product_min_quantity[]" id="product_min_quantity[0]" value="{{created_product.min_qty}}">
                </div>

                <div class="form_input_container">
                    <label for="product_max_quantity[0]">Product Quantity (Max Threshold)</label>
                    <input type="number" min="1" name="product_max_quantity[]" id="product_max_quantity[0]" value="{{created_product.max_qty}}">
                </div>

                <div class="form_input_container">
                    <label for="product_cost_price[0]">Product Cost Price (Estimated)</label>
                    <input type="number" step="0.01" min="1" name="product_cost_price[]" id="product_cost_price[0]" value="{{created_product.cost_price}}">
                </div>

                <div class="form_input_container">
                    <label for="product_selling_price[0]">Product Selling Price</label>
                    <input type="number" step="0.01" min="1" name="product_selling_price[]" id="product_selling_price[0]" value="{{created_product.selling_price}}">
                </div>

                <div class="form_input_container">
                    <label for="product_img[0]">Product Image URL</label>
                    <input type="text" name="product_img[]" id="product_img[0]" value="{{#if created_product.image_path}}{{created_product.image_path}}{{else}}/img/Products/default_product.png{{/if}}">
                </div>

                <div class="form_input_container">
                    <h3>Product Image</h3>
                    <img src={{#if created_product.image_path}}"{{created_product.image_path}}"{{else}}"/img/Products/default_product.png"{{/if}} alt="" width="256px" height="256px">
                </div>

                <div class="form_input_container">
                    <label for="product_bestseller[0]">Bestseller Status</label>
                    <select name="product_bestseller[]" id="product_bestseller[0]">
                        <option {{#if_eq created_product.is_best_seller "no"}} selected {{else}} {{/if_eq}} value="no">No</option>
                        <option {{#if_eq created_product.is_best_seller "yes"}} selected {{else}} {{/if_eq}} value="yes">Yes</option>
                    </select>
                </div>

                <div class="form_input_container">
                    <label for="product_description[0]">Product Description</label>
                    <textarea name="product_description[]" id="product_description[0]" cols="100" rows="25">{{#if created_product.description}}{{created_product.description}}{{else}}{{/if}}</textarea>
                </div>
            </div> 
        </div>
        <div>
            <button type="button" id="add_product_btn" class="button_class product_button event_button"><i class="fas fa-plus"></i> Add Product</button>
            <button type="button" id="remove_product_btn" class="button_class product_button event_button remove_element"><i class="fas fa-minus"></i> Remove Product</button>
        </div> 
        <div>
            <button type="submit" class="button_class product_button">Submit <i class="fas fa-arrow-right"></i></button>
            <a href="/employee/edit-stock/products" class="button_class product_button"><i class="fas fa-arrow-left"></i> Go Back</a>
        </div>
    </form>
</section>